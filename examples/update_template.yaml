# Create firewall rule on exsistent appliance.
#
# Also you can update or get rule, by execution operation.
# Use pramaters files for execute operation:
# cfy executions start execute_operation -d <deployment> -p params/param.yaml
tosca_definitions_version: cloudify_dsl_1_3

imports:
  - include/imports.yaml
  - include/versa-default.yaml


#
# Node templates
#
node_templates:
  #####################
  # Versa config
  #####################
  versa_configuration:
    type: cloudify.versa.nodes.versa_configuration
    properties:
      versa_config:
        username: { get_input: username }
        password: { get_input: password }
        versa_url: { get_input: versa_url}
        client_id: { get_input: client_id}
        client_secret: { get_input: client_secret}

  template:
    type: cloudify.versa.nodes.Template
    properties:
      versa_config: { get_property: [versa_configuration, versa_config] }
